{"version":3,"sources":["main.coffee"],"names":[],"mappings":"AACA;AAAA,MAAA;;AAAA;IACE,OAAA,CAAQ,oBAAR,CAA6B,CAAC,OAA9B,CAAA,EADF;GAAA,aAAA;IAEM;IACJ,OAAO,CAAC,GAAR,CAAY,yCAAA,GAA0C,CAAtD,EAHF;;;EAKA,IAAU,OAAA,CAAQ,kBAAR,CAA2B,CAAC,oBAA5B,CAAA,CAAV;AAAA,WAAA;;;EAEA,GAAA,GAAM,OAAA,CAAQ,KAAR;;EAEN,aAAA,GAAgB,OAAA,CAAQ,gBAAR;;EAEhB,MAAA,GAAS,OAAA,CAAQ,gBAAR;;EACT,IAAA,GAAO,OAAA,CAAQ,cAAR;;EAEP,QAAA,GAAW,OAAA,CAAQ,yBAAR;;EACX,UAAA,GAAa,OAAA,CAAQ,4BAAR;;EAEb,OAAA,CAAQ,cAAR,CAAuB,CAAC,OAAxB,CAAA;;EACA,OAAA,CAAQ,kBAAR,CAA2B,CAAC,OAA5B,CAAA;;EACA,OAAA,CAAQ,yBAAR,CAAkC,CAAC,OAAnC,CAAA;;EAEA,WAAA,GAAc;;EAEd,MAAA,GAAS;;EACT,QAAA,GAAW;;EAEX,gBAAA,GAAmB,SAAA;IACjB,IAAG,WAAH;MACE,WAAW,CAAC,IAAZ,CAAA;AACA,aAFF;;IAIA,IAAA,CAAO,MAAP;MACE,UAAU,CAAC,IAAX,CAAA;MACA,MAAA,GAAS,KAFX;;IAIA,WAAA,GAAkB,IAAA,aAAA,CAAc;MAC9B,KAAA,EAAO,SADuB;MAE9B,IAAA,EAAM,iCAFwB;MAG9B,KAAA,EAAO,IAHuB;MAI9B,MAAA,EAAQ,GAJsB;MAK9B,MAAA,EAAQ,IALsB;KAAd;IAOlB,GAAG,CAAC,WAAJ,GAAkB;IAElB,WAAW,CAAC,EAAZ,CAAe,OAAf,EAAwB,SAAC,CAAD;MAEtB,IAAA,CAAO,QAAP;QACE,CAAC,CAAC,cAAF,CAAA;eACA,WAAW,CAAC,IAAZ,CAAA,EAFF;;IAFsB,CAAxB;IAMA,WAAW,CAAC,OAAZ,CAAoB,SAAA,GAAU,SAAV,GAAoB,aAAxC;IAEA,IAAG,OAAO,CAAC,GAAG,CAAC,QAAf;aACE,WAAW,CAAC,YAAZ,CAAA,EADF;;EA1BiB;;EA6BnB,GAAG,CAAC,EAAJ,CAAO,aAAP,EAAsB,SAAA;WACpB,QAAA,GAAW;EADS,CAAtB;;EAGA,GAAG,CAAC,EAAJ,CAAO,OAAP,EAAgB,SAAA;IACd,IAAI,CAAC,SAAL,CAAA;WACA,gBAAA,CAAA;EAFc,CAAhB;;EAIA,GAAG,CAAC,EAAJ,CAAO,UAAP,EAAmB,SAAA;iCACjB,WAAW,CAAE,IAAb,CAAA;EADiB,CAAnB;AA9DA","file":"main.js","sourceRoot":"/source/","sourcesContent":["\ntry\n  require(\"source-map-support\").install()\ncatch e\n  console.log \"Failed to install source map support:\\n#{e}\"\n\nreturn if require(\"./metal/squirrel\").handle_startup_event()\n\napp = require \"app\"\n\nBrowserWindow = require \"browser-window\"\n\nconfig = require \"./metal/config\"\ntray = require \"./metal/tray\"\n\nAppStore = require \"./metal/stores/AppStore\"\nAppActions = require \"./metal/actions/AppActions\"\n\nrequire(\"./metal/menu\").install()\nrequire(\"./metal/notifier\").install()\nrequire(\"./metal/install_manager\").install()\n\nmain_window = null\n\nbooted = false\nquitting = false\n\nmake_main_window = ->\n  if main_window\n    main_window.show()\n    return\n\n  unless booted\n    AppActions.boot()\n    booted = true\n\n  main_window = new BrowserWindow {\n    title: \"itch.io\"\n    icon: \"./static/images/itchio-tray.png\"\n    width: 1200\n    height: 720\n    center: true\n  }\n  app.main_window = main_window\n\n  main_window.on \"close\", (e) ->\n    # hide by default, only quit if explicitly required quit\n    unless quitting\n      e.preventDefault()\n      main_window.hide()\n\n  main_window.loadUrl \"file://#{__dirname}/index.html\"\n\n  if process.env.DEVTOOLS\n    main_window.openDevTools()\n\napp.on \"before-quit\", ->\n  quitting = true\n\napp.on \"ready\", ->\n  tray.make_tray()\n  make_main_window()\n\napp.on \"activate\", ->\n  main_window?.show()\n\n"]}