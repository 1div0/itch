{"version":3,"sources":["metal/tray.coffee"],"names":[],"mappings":"AACA;AAAA,MAAA;;EAAA,GAAA,GAAM,OAAA,CAAQ,KAAR;;EACN,IAAA,GAAO,OAAA,CAAQ,MAAR;;EACP,UAAA,GAAa,OAAA,CAAQ,sBAAR;;EAEb,SAAA,GAAY,SAAA;AACV,QAAA;IAAA,kBAAA,GAAqB;MACnB;QACE,KAAA,EAAO,OADT;QAEE,KAAA,EAAO,SAAA;iBAAG,UAAU,CAAC,WAAX,CAAuB,OAAvB;QAAH,CAFT;OADmB,EAKnB;QACE,KAAA,EAAO,WADT;QAEE,KAAA,EAAO,SAAA;iBAAG,UAAU,CAAC,WAAX,CAAuB,WAAvB;QAAH,CAFT;OALmB;;IAUrB,IAAG,OAAO,CAAC,QAAR,KAAoB,QAAvB;MACE,kBAAA,GAAqB,kBAAkB,CAAC,MAAnB,CAA0B;QAC7C;UACE,IAAA,EAAM,WADR;SAD6C,EAI7C;UACE,KAAA,EAAO,MADT;UAEE,KAAA,EAAO,SAAA;mBAAG,UAAU,CAAC,IAAX,CAAA;UAAH,CAFT;SAJ6C;OAA1B,EADvB;;IAWA,SAAA,GAAY,IAAI,CAAC,iBAAL,CAAuB,kBAAvB;IAEZ,IAAG,OAAO,CAAC,QAAR,KAAoB,QAAvB;aACE,GAAG,CAAC,IAAI,CAAC,OAAT,CAAiB,SAAjB,EADF;KAAA,MAAA;MAGE,IAAA,GAAO,OAAA,CAAQ,MAAR;MACP,IAAA,GAAW,IAAA,IAAA,CAAK,uCAAL;MACX,IAAI,CAAC,UAAL,CAAgB,SAAhB;MACA,IAAI,CAAC,cAAL,CAAoB,SAApB;MACA,IAAI,CAAC,EAAL,CAAQ,SAAR,EAAmB,SAAA;eAAG,UAAU,CAAC,YAAX,CAAA;MAAH,CAAnB;MACA,IAAI,CAAC,EAAL,CAAQ,gBAAR,EAA0B,SAAA;eAAG,UAAU,CAAC,YAAX,CAAA;MAAH,CAA1B;aACA,GAAG,CAAC,SAAJ,GAAgB,KATlB;;EAxBU;;EAmCZ,MAAM,CAAC,OAAP,GAAiB;IAAE,WAAA,SAAF;;AAvCjB","file":"metal/tray.js","sourceRoot":"/source/","sourcesContent":["\napp = require \"app\"\nMenu = require \"menu\"\nAppActions = require \"./actions/AppActions\"\n\nmake_tray = ->\n  tray_menu_template = [\n    {\n      label: \"Owned\"\n      click: -> AppActions.focus_panel \"owned\"\n    }\n    {\n      label: \"Dashboard\"\n      click: -> AppActions.focus_panel \"dashboard\"\n    }\n  ]\n  if process.platform != \"darwin\"\n    tray_menu_template = tray_menu_template.concat [\n      {\n        type: \"separator\"\n      }\n      {\n        label: \"Exit\"\n        click: -> AppActions.quit()\n      }\n    ]\n\n  tray_menu = Menu.buildFromTemplate tray_menu_template\n\n  if process.platform == \"darwin\"\n    app.dock.setMenu tray_menu\n  else\n    Tray = require \"tray\"\n    tray = new Tray(\"./static/images/itchio-tray-small.png\")\n    tray.setToolTip \"itch.io\"\n    tray.setContextMenu tray_menu\n    tray.on \"clicked\", -> AppActions.focus_window()\n    tray.on \"double-clicked\", -> AppActions.focus_window()\n    app.main_tray = tray\n\nmodule.exports = { make_tray }\n\n"]}